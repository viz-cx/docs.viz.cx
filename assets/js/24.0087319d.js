(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{305:function(t,e,_){"use strict";_.r(e);var s=_(12),a=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"типы-нод"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#типы-нод"}},[t._v("#")]),t._v(" Типы нод")]),t._v(" "),e("p",[t._v("Нода VIZ — сердце блокчейна, программное обеспечение, которое обрабатывает блок за блоком, исполняет все операции и хранит состояние системы. Владелец настраивает ноду, выбирает используемые плагины. От включенных плагинов и их настроек зависит то, какие возможности может предоставлять нода.")]),t._v(" "),e("hr"),t._v(" "),e("h2",{attrs:{id:"witness-node-нода-делегата"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#witness-node-нода-делегата"}},[t._v("#")]),t._v(" Witness node (нода делегата)")]),t._v(" "),e("p",[t._v("За формирование блоков отвечают делегаты, поэтому важнейшими нодами являются как раз ноды делегатов. Они обмениваются данными с другими нодами, собирают транзакции и когда подходит очередь делегата (владельца сервера) сформировать блок — происходит подпись собранного блока и его трансляция другим узлам. Блок должен быть подписан и доставлен за 3 секунды, выделенные на это делегату. Пропуск блока приводит к задержке выполнения транзакций и штрафу делегата на какое-то время (штраф накладывается на суммарный вес голосов, отданных за делегата другими пользователями). Это позволяет системе временно понижать в очереди делегатов тех, у кого случились какие-то неполадки на сервере или дата-центре, защищая таким образом надежность сети.")]),t._v(" "),e("p",[t._v("Зачастую делегаты держат две ноды, основную и запасную (резерв). Часто они находятся в разных дата-центрах и не зависят друг от друга. Если с основной нодой происходит неполадка, то делегат меняет ключ подписи блоков на резервный и формированием блоков будет заниматься запасная нода.")]),t._v(" "),e("p",[t._v("Ключевые плагины: "),e("code",[t._v("chain p2p json_rpc webserver witness network_broadcast_api database_api witness_api")])]),t._v(" "),e("h2",{attrs:{id:"seed-node-сид-нода"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#seed-node-сид-нода"}},[t._v("#")]),t._v(" Seed node (сид-нода)")]),t._v(" "),e("p",[t._v("Основа для функционирования любой блокчейн системы — peer-to-peer (p2p) соединение и обмен данными. Сид-ноды отличаются тем, что выполняют важную роль — принимают и раздают блоки, разгружая таким образом пропускную способность всей сети и снижая отклик для близких территориально подключений. Нет экономической выгоды держать сид-ноду, так как сервер стоит денег, но не приносит своему владельцу ничего. Поэтому большинство сид-нод запускают делегаты (witnesses), если они могут позволить себе это финансово.")]),t._v(" "),e("p",[t._v("Ключевые плагины: "),e("code",[t._v("chain p2p")])]),t._v(" "),e("h2",{attrs:{id:"api-node"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-node"}},[t._v("#")]),t._v(" API node")]),t._v(" "),e("p",[t._v("Часть плагинов занимаются предоставляем API для разработчиков и их пользователей. Такие ноды часто называют полными, если у них включены все доступные плагины и хранят историю с первого блока. Так как плагины дают доступ не только к состоянию системы, но и формируют свои структуры данных, у них повышенные требования к ресурсам сервера (особенно к оперативной памяти, так как нода хранит "),e("a",{attrs:{href:"https://github.com/VIZ-Blockchain/chainbase/tree/c8c527e56740857e29656eee4ba9f88c63063a1b",target:"_blank",rel:"noopener noreferrer"}},[t._v("базу данных ChainBase"),e("OutboundLink")],1),t._v(" в RAM). Именно через API ноды происходят запросы на актуальную информацию, статус аккаунтов, историю операций или заявки в комитете.")]),t._v(" "),e("p",[t._v("Примеры таких плагинов:")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("network_broadcast_api")]),t._v(" — отправка транзакции в сеть;")]),t._v(" "),e("li",[e("strong",[t._v("database_api")]),t._v(" — основной плагин предоставляющий доступ к состоянию системы, получение данных об аккаунтах, получение информации о блоке, получение параметров сети;")]),t._v(" "),e("li",[e("strong",[t._v("custom_protocol_api")]),t._v(" — плагин для записи счетчика и высоту блока для последних custom операций для аккаунта (количество хранимых идентификаторов кастомных операций для аккаунта задается параметром custom-protocol-store-size в конфигурационном файле);")]),t._v(" "),e("li",[e("strong",[t._v("account_history")]),t._v(" — получение списка операций связанных с аккаунтом;")]),t._v(" "),e("li",[e("strong",[t._v("committee_api")]),t._v(" — получение списка заявок по статусу, получение информации о заявке, получение списка голосов по заявке;")]),t._v(" "),e("li",[e("strong",[t._v("invite_api")]),t._v(" — получение списка инвайтов по статусу, запрос информации о инвайте по идентификатору или ключу;")]),t._v(" "),e("li",[e("strong",[t._v("operation_history")]),t._v(" — получение информации об операциях в блоке;")]),t._v(" "),e("li",[e("strong",[t._v("paid_subscription_api")]),t._v(" — получение информации о платных подписках, заключенных соглашениях между аккаунтами;")]),t._v(" "),e("li",[e("strong",[t._v("witness_api")]),t._v(" — получение списка делегатов, очереди делегатов, информации о конкретном делегате и его голосуемых параметрах сети.")])]),t._v(" "),e("p",[t._v("API ноды могут быть как приватными (когда в настройках указаны параметры доступа по логину и паролю), так и публичными (когда обращение к API доступно всем и публично известен адрес ноды). Часто публичные API ноды называют просто публичными нодами. Подробнее читайте в разделе "),e("RouterLink",{attrs:{to:"/ru/cookbook/plugins-api.html"}},[t._v("Плагины и их API")]),t._v(".")],1)])}),[],!1,null,null,null);e.default=a.exports}}]);